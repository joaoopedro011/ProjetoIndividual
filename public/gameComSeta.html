<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../public/styles/game2.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <title>Document</title>
</head>

<body>

        <div id="marcador">
        <p id="gols" class="numero">0</p>
        <p id="erro" class="numero">0</p>
        </div>



         <button onclick="colocar()" id="colocar">Colocar bola</button>
         <div id="bola"></div>
         <div id="goleiro"></div>
         <div id="flechas">
        
        <span class="material-symbols-outlined" onclick="esq()">
            arrow_back
        </span>
        <span class="material-symbols-outlined" onclick="mid()">
            arrow_upward
        </span>
        <span class="material-symbols-outlined" id="dir" onclick="dir()">
            arrow_forward
        </span>
    </div>


    <script>

      








        function iniciarLoopColocar() {
            colocar();
           setTimeout(iniciarLoopColocar, 3000); // Repetirá a cada 3 segundos
    
            const bola1 = document.querySelector("#bola");
            bola1.classList.add("colocarBola");

            const goleiro1 = document.querySelector("#goleiro");
            goleiro1.classList.add("colocargoleiro");


            bola1.addEventListener('animationend', function () {
                bola1.classList.remove("colocarBola");
            }, { once: true });



            goleiro1.addEventListener('animationend', function () {
                goleiro1.classList.remove("colocargoleiro");
            }, { once: true });


            bola1.addEventListener('animationend', function () {
                bola1.classList.remove("animar");
            }, { once: true });

            bola1.addEventListener('animationend', function () {
                bola1.classList.remove("animarmid");
            }, { once: true });

            bola1.addEventListener('animationend', function () {
                bola1.classList.remove("animaresq");
            }, { once: true });


            goleiro1.addEventListener('animationend', function () {
                goleiro1.classList.remove("anidir");
            }, { once: true });

            goleiro1.addEventListener('animationend', function () {
                goleiro1.classList.remove("animid");
            }, { once: true });

            goleiro1.addEventListener('animationend', function () {
                goleiro1.classList.remove("aniesq");
            }, { once: true });


        }

        let erro1 = document.querySelector("#erro")
        let marcador1 = 1;
        let gols1 = document.querySelector("#gols")
        let marcador2 = 1;
    



        function dir() {



            const bola1 = document.querySelector("#bola");
            bola1.classList.add("animar");



            const goleiro1 = document.querySelector("#goleiro")
            const movimentos = ["anidir", "aniesq", "animid"];
            const movimentoAleatorio = movimentos[Math.floor(Math.random() * movimentos.length)];


            goleiro1.classList.add(movimentoAleatorio)

            if (movimentoAleatorio == "anidir") {
                setTimeout(function () {
                    alert("Perdeeu o pênalti!");
                    erro1.textContent = marcador1
                    marcador1++;

                }, 1000);
            } else {
                gols1.textContent = marcador2
                marcador2++;

            }


        }
        function mid() {
            const bola1 = document.querySelector("#bola");


            bola1.classList.add("animarmid");



            const goleiro1 = document.querySelector("#goleiro")
            const movimentos = ["anidir", "aniesq", "animid"];
            const movimentoAleatorio = movimentos[Math.floor(Math.random() * movimentos.length)];


            goleiro1.classList.add(movimentoAleatorio)


            if (movimentoAleatorio == "animid") {
                setTimeout(function () {
                    alert("Perdeeeu o pênalti!");
                    erro1.textContent = marcador1
                    marcador1++;
                }, 1000);
            } else {
                gols1.textContent = marcador2
                marcador2++;

            }




        }
        function esq() {
            const bola1 = document.querySelector("#bola");

            bola1.classList.add("animaresq");



            const goleiro1 = document.querySelector("#goleiro")
            const movimentos = ["anidir", "aniesq", "animid"];
            const movimentoAleatorio = movimentos[Math.floor(Math.random() * movimentos.length)];


            goleiro1.classList.add(movimentoAleatorio) 

            if (movimentoAleatorio == "aniesq") {
                setTimeout(function () {
                    alert("Perdeeeu o pênalti!");
                   erro1.textContent = marcador1
                    marcador1++;
                }, 1000);
            } else {
                gols1.textContent = marcador2
                marcador2++;
                
            }
            
            
        }
        
        
        
        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowRight') {
                dir();
            }
        });
        
        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowLeft') {
                esq();
            }
        });
        
        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowUp') {
                mid();
            }
        });
        
        iniciarLoopColocar();


    </script>
</body>

</html>